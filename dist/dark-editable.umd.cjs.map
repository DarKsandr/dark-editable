{"version":3,"file":"dark-editable.umd.cjs","sources":["../src/Modes/BaseMode.js","../src/Modes/PopupMode.js","../src/Modes/InlineMode.js","../src/Types/BaseType.js","../src/Types/InputType.js","../src/Types/TextAreaType.js","../src/Types/SelectType.js","../src/Types/DateType.js","../src/Types/DateTimeType.js","../src/dark-editable.js"],"sourcesContent":["export default class BaseMode{\r\n    constructor(context) {\r\n        if(this.constructor === BaseMode){\r\n            throw new Error(`It's abstract class`);\r\n        }\r\n        this.context = context;\r\n    }\r\n    event_show(){\r\n        this.context.typeElement.hideError();\r\n        this.context.typeElement.element.value = this.context.value;\r\n        this.context.element.dispatchEvent(new CustomEvent(\"show\"));\r\n    }\r\n    event_shown(){\r\n        this.context.element.dispatchEvent(new CustomEvent(\"shown\"));\r\n    }\r\n    event_hide(){\r\n        this.context.element.dispatchEvent(new CustomEvent(\"hide\"));\r\n    }\r\n    event_hidden(){\r\n        this.context.element.dispatchEvent(new CustomEvent(\"hidden\"));\r\n    }\r\n    init(){\r\n        throw new Error('Method `init` not define!');\r\n    }\r\n    enable(){\r\n        throw new Error('Method `enable` not define!');\r\n    }\r\n    disable(){\r\n        throw new Error('Method `disable` not define!');\r\n    }\r\n    hide(){\r\n        throw new Error('Method `hide` not define!');\r\n    }\r\n}","import { Popover } from \"bootstrap\";\r\nimport BaseMode from \"./BaseMode.js\";\r\n\r\nexport default class PopupMode extends BaseMode{\r\n    init(){\r\n        this.popover = new Popover(this.context.element, {\r\n            container: \"body\",\r\n            content: this.context.typeElement.create(),\r\n            html: true,\r\n            customClass: \"dark-editable\",\r\n            title: this.context.title,\r\n        });\r\n        this.context.element.addEventListener('show.bs.popover', () => {\r\n            this.event_show();\r\n        });\r\n        this.context.element.addEventListener('shown.bs.popover', () => {\r\n            this.event_shown();\r\n        });\r\n        this.context.element.addEventListener('hide.bs.popover', () => {\r\n            this.event_hide();\r\n        });\r\n        this.context.element.addEventListener('hidden.bs.popover', () => {\r\n            this.event_hidden();\r\n        });\r\n\r\n        document.addEventListener('click', (e) => {\r\n            const target = e.target;\r\n            if(target === this.popover.tip || target === this.context.element) return;\r\n            let current = target;\r\n            while(current = current.parentNode){\r\n                if(current === this.popover.tip) return;\r\n            }\r\n            this.hide();\r\n        })\r\n    }\r\n    enable(){\r\n        this.popover.enable();\r\n    }\r\n    disable(){\r\n        this.popover.disable();\r\n    }\r\n    hide(){\r\n        this.popover.hide();\r\n    }\r\n}","import BaseMode from \"./BaseMode.js\";\r\n\r\nexport default class InlineMode extends BaseMode{\r\n    init(){\r\n        const open = () => {\r\n            if(!this.context.disabled){\r\n                const item = this.context.typeElement.create();\r\n                this.event_show();\r\n                this.context.element.removeEventListener('click', open);\r\n                this.context.element.innerHTML = '';\r\n                this.context.element.append(item);\r\n                this.event_shown();\r\n            }\r\n        }\r\n        this.context.element.addEventListener('click', open);\r\n    }\r\n    enable(){\r\n\r\n    }\r\n    disable(){\r\n\r\n    }\r\n    hide(){\r\n        this.event_hide();\r\n        this.context.element.innerHTML = this.context.value;\r\n        setTimeout(() => {\r\n            this.init();\r\n            this.event_hidden();\r\n        }, 100);\r\n    }\r\n}","export default class BaseType{\r\n    context = null;\r\n    element = null;\r\n    error = null;\r\n    form = null;\r\n    load = null;\r\n    buttons = {success: null, cancel: null};\r\n    constructor(context) {\r\n        if(this.constructor === BaseType){\r\n            throw new Error(`It's abstract class`);\r\n        }\r\n        this.context = context;\r\n    }\r\n\r\n    create(){\r\n        throw new Error('Method `create` not define!');\r\n    }\r\n\r\n    createContainer(element){\r\n        const div = document.createElement(`div`);\r\n        this.element = element;\r\n        this.error = this.createContainerError();\r\n        this.form = this.createContainerForm();\r\n        this.load = this.createContainerLoad();\r\n        this.form.append(element, this.load);\r\n        this.buttons.success = null;\r\n        this.buttons.cancel = null;\r\n        if(this.context.showbuttons){\r\n            this.buttons.success = this.createButtonSuccess();\r\n            this.buttons.cancel = this.createButtonCancel();\r\n            this.form.append(this.buttons.success, this.buttons.cancel);\r\n        }\r\n\r\n        div.append(this.error, this.form);\r\n        return div;\r\n    }\r\n\r\n    createContainerError(){\r\n        const div = document.createElement(`div`);\r\n        div.classList.add(\"text-danger\", \"fst-italic\", \"mb-2\", \"fw-bold\");\r\n        div.style.display = \"none\";\r\n        return div;\r\n    }\r\n\r\n    createContainerForm(){\r\n        const form = document.createElement(`form`);\r\n        form.classList.add(\"d-flex\", \"align-items-start\");\r\n        form.style.gap = \"20px\";\r\n        form.addEventListener('submit', async e => {\r\n            e.preventDefault();\r\n            const newValue = this.getValue();\r\n            if(this.context.send && this.context.pk && this.context.url && (this.context.value !== newValue)){\r\n                this.showLoad();\r\n                let msg;\r\n                try {\r\n                    const response = await this.ajax(newValue);\r\n                    if(response.ok){\r\n                        msg = await this.context.success(response, newValue);\r\n                    } else {\r\n                        msg = await this.context.error(response, newValue) || `${response.status} ${response.statusText}`;\r\n                    }\r\n                } catch (error) {\r\n                    console.error(error);\r\n                    msg = error;\r\n                }\r\n\r\n                if(msg){\r\n                    this.setError(msg);\r\n                    this.showError();\r\n                } else {\r\n                    this.setError(null);\r\n                    this.hideError();\r\n                    this.context.value = this.getValue();\r\n                    this.context.modeElement.hide();\r\n                    this.initText();\r\n                }\r\n                this.hideLoad();\r\n            } else {\r\n                this.context.value = this.getValue();\r\n                this.context.modeElement.hide();\r\n                this.initText();\r\n            }\r\n            this.context.element.dispatchEvent(new CustomEvent(\"save\"));\r\n        })\r\n        return form;\r\n    }\r\n\r\n    createContainerLoad(){\r\n        const div = document.createElement(`div`);\r\n        div.style.display = \"none\";\r\n        div.style.position = \"absolute\";\r\n        div.style.background = \"white\";\r\n        div.style.width = \"100%\";\r\n        div.style.height = \"100%\";\r\n        div.style.top = 0;\r\n        div.style.left = 0;\r\n        const loader = document.createElement(`div`);\r\n        loader.classList.add(\"dark-editable-loader\");\r\n        div.append(loader);\r\n        return div;\r\n    }\r\n\r\n    createButton(){\r\n        const button = document.createElement(\"button\");\r\n        button.type = \"button\";\r\n        button.classList.add(\"btn\", \"btn-sm\");\r\n        button.style.color = \"transparent\";\r\n        button.style.textShadow = \"0 0 0 white\";\r\n        return button;\r\n    }\r\n\r\n    createButtonSuccess(){\r\n        const btn_success = this.createButton();\r\n        btn_success.type = \"submit\";\r\n        btn_success.classList.add(\"btn-success\");\r\n        btn_success.innerHTML = \"✔\";\r\n        return btn_success;\r\n    }\r\n\r\n    createButtonCancel(){\r\n        const btn_cancel = this.createButton();\r\n        btn_cancel.classList.add(\"btn-danger\");\r\n        const div = document.createElement(\"div\");\r\n        div.innerHTML = \"✖\";\r\n        btn_cancel.append(div);\r\n        btn_cancel.addEventListener(\"click\", () => {\r\n            this.context.modeElement.hide();\r\n        });\r\n        return btn_cancel;\r\n    }\r\n\r\n    hideLoad(){\r\n        this.load.style.display = \"none\";\r\n    }\r\n\r\n    showLoad(){\r\n        this.load.style.display = \"block\";\r\n    }\r\n\r\n    ajax(new_value){\r\n        let url = this.context.url;\r\n        const form = new FormData;\r\n        form.append(\"pk\", this.context.pk);\r\n        form.append(\"name\", this.context.name);\r\n        form.append(\"value\", new_value);\r\n        const option = {};\r\n        option.method = this.context.ajaxOptions.method;\r\n        if(option.method === \"POST\"){\r\n            option.body = form;\r\n        } else {\r\n            url += \"?\" + new URLSearchParams(form).toString();\r\n        }\r\n        return fetch(url, option);\r\n    }\r\n\r\n    async successResponse(response, newValue){\r\n\r\n    }\r\n\r\n    async errorResponse(response, newValue){\r\n\r\n    }\r\n\r\n    setError(errorMsg){\r\n        this.error.innerHTML = errorMsg;\r\n    }\r\n\r\n    showError(){\r\n        this.error.style.display = \"block\";\r\n    }\r\n\r\n    hideError(){\r\n        if(this.error){\r\n            this.error.style.display = \"none\";\r\n        }\r\n    }\r\n\r\n    createElement(name){\r\n        const element = document.createElement(name);\r\n        element.classList.add(\"form-control\");\r\n        if(this.context.required){\r\n            element.required = this.context.required;\r\n        }\r\n        if(!this.context.showbuttons){\r\n            element.addEventListener('change', () => {\r\n                this.form.dispatchEvent(new Event('submit'));\r\n            });\r\n        }\r\n        this.add_focus(element);\r\n        return element;\r\n    }\r\n\r\n    add_focus(element){\r\n        this.context.element.addEventListener('shown', function(){\r\n            element.focus();\r\n        });\r\n    }\r\n\r\n    initText(){\r\n        if(this.context.value === \"\"){\r\n            this.context.element.innerHTML = this.context.emptytext;\r\n            return true;\r\n        } else {\r\n            this.context.element.innerHTML = this.context.value;\r\n            return false;\r\n        }\r\n    }\r\n\r\n    initOptions(){\r\n\r\n    }\r\n\r\n    getValue(){\r\n        return this.element.value;\r\n    }\r\n}","import BaseType from \"./BaseType.js\";\r\n\r\nexport default class InputType extends BaseType{\r\n    create(){\r\n        const input = this.createElement(`input`);\r\n        input.type = this.context.type;\r\n\r\n        return this.createContainer(input);\r\n    }\r\n}","import BaseType from \"./BaseType.js\";\r\n\r\nexport default class TextAreaType extends BaseType{\r\n    create(){\r\n        const textarea = this.createElement(`textarea`);\r\n\r\n        return this.createContainer(textarea);\r\n    }\r\n}","import BaseType from \"./BaseType.js\";\r\n\r\nexport default class SelectType extends BaseType{\r\n    create(){\r\n        const select = this.createElement(`select`);\r\n        this.context.source.forEach(item => {\r\n            const opt = document.createElement(`option`);\r\n            opt.value = item.value;\r\n            opt.innerHTML = item.text;\r\n            select.append(opt);\r\n        });\r\n\r\n        return this.createContainer(select);\r\n    }\r\n\r\n    initText(){\r\n        this.context.element.innerHTML = this.context.emptytext;\r\n        if(this.context.value !== \"\" && this.context.source.length > 0){\r\n            for(const key in this.context.source){\r\n                const item = this.context.source[ key ];\r\n                if(item.value == this.context.value){\r\n                    this.context.element.innerHTML = item.text;\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    initOptions(){\r\n        this.context.get_opt(\"source\", []);\r\n        if(typeof this.context.source === \"string\" && this.context.source !== \"\"){\r\n            this.context.source = JSON.parse(this.context.source);\r\n        }\r\n    }\r\n}","import BaseType from \"./BaseType.js\";\r\n\r\nexport default class DateType extends BaseType{\r\n    create(){\r\n        const input = this.createElement(`input`);\r\n        input.type = \"date\";\r\n\r\n        return this.createContainer(input);\r\n    }\r\n\r\n    initText(){\r\n        if(this.value === \"\"){\r\n            this.context.element.innerHTML = this.context.emptytext;\r\n            return true;\r\n        } else {\r\n            this.context.element.innerHTML = moment(this.context.value).format(this.context.viewformat);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    initOptions(){\r\n        this.context.get_opt(\"format\", \"YYYY-MM-DD\");\r\n        this.context.get_opt(\"viewformat\", \"YYYY-MM-DD\");\r\n    }\r\n}","import DateType from \"./DateType.js\";\r\nimport moment from \"moment\";\r\n\r\nexport default class DateTimeType extends DateType{\r\n    create(){\r\n        const input = this.createElement(`input`);\r\n        input.type = \"datetime-local\";\r\n\r\n        return this.createContainer(input);\r\n    }\r\n\r\n    initOptions(){\r\n        this.context.get_opt(\"format\", \"YYYY-MM-DD HH:mm\");\r\n        this.context.get_opt(\"viewformat\", \"YYYY-MM-DD HH:mm\");\r\n        this.context.value = moment(this.context.value).format(\"YYYY-MM-DDTHH:mm\");\r\n    }\r\n}","import \"./dark-editable.css\";\r\nimport PopupMode from \"./Modes/PopupMode.js\";\r\nimport InlineMode from \"./Modes/InlineMode.js\";\r\nimport BaseType from \"./Types/BaseType.js\";\r\nimport InputType from \"./Types/InputType.js\";\r\nimport TextAreaType from \"./Types/TextAreaType.js\";\r\nimport SelectType from \"./Types/SelectType.js\";\r\nimport DateType from \"./Types/DateType.js\";\r\nimport DateTimeType from \"./Types/DateTimeType.js\";\r\n\r\n/*!\r\n * DarkEditable.js\r\n * License: MIT\r\n */\r\nexport default class DarkEditable{\r\n    modeElement = null;\r\n    typeElement = null;\r\n    mode = null;\r\n    type = null;\r\n    emptytext = null;\r\n    viewformat = null;\r\n    pk = null;\r\n    name = null;\r\n\r\n    constructor(element, options = {}){\r\n        this.element = element;\r\n        this.options = options;\r\n        \r\n        this.init_options();\r\n        this.typeElement = this.route_type();\r\n        this.typeElement.initOptions();\r\n        this.modeElement = this.route_mode();\r\n        this.modeElement.init();\r\n        this.init_text();\r\n        this.init_style();\r\n        if(this.disabled){\r\n            this.disable();\r\n        }\r\n        this.element.dispatchEvent(new CustomEvent(\"init\"));\r\n    }\r\n\r\n    /* INIT METHODS */\r\n\r\n    get_opt(name, default_value){\r\n        return this[ name ] = this.element.dataset?.[ name ] ?? this.options?.[ name ] ?? default_value;\r\n    }\r\n    get_opt_bool(name, default_value){\r\n        this.get_opt(name, default_value);\r\n        if(typeof this[ name ] !== \"boolean\"){\r\n            if(this[ name ] === \"true\") {\r\n                this[ name ] = true;\r\n            } else if(this[ name ] === \"false\") {\r\n                this[ name ] = false;\r\n            } else {\r\n                this[ name ] = default_value;\r\n            }\r\n        }\r\n        return this[ name ];\r\n    }\r\n\r\n    init_options(){\r\n        //priority date elements\r\n        this.get_opt(\"value\", this.element.innerHTML);\r\n        this.get_opt(\"name\", this.element.id);\r\n        this.get_opt(\"pk\", null);\r\n        this.get_opt(\"title\", \"\");\r\n        this.get_opt(\"type\", \"text\");\r\n        this.get_opt(\"emptytext\", \"Empty\");\r\n        this.get_opt(\"mode\", \"popup\");\r\n        this.get_opt(\"url\", null);\r\n        this.get_opt(\"ajaxOptions\", {});\r\n        this.ajaxOptions = Object.assign({\r\n            method: \"POST\",\r\n            dataType: \"text\",\r\n        }, this.ajaxOptions);\r\n        this.get_opt_bool(\"send\", true);\r\n        this.get_opt_bool(\"disabled\", false);\r\n        this.get_opt_bool(\"required\", false);\r\n        this.get_opt_bool(\"showbuttons\", true);\r\n        if(this.options?.success && typeof this.options?.success == \"function\"){\r\n            this.success = this.options.success;\r\n        }\r\n        if(this.options?.error && typeof this.options?.error == \"function\"){\r\n            this.error = this.options.error;\r\n        }\r\n    }\r\n\r\n    init_text(){\r\n        const empty_class = \"dark-editable-element-empty\";\r\n        this.element.classList.remove(empty_class);\r\n        if(this.typeElement.initText()){\r\n            this.element.classList.add(empty_class);\r\n        }\r\n    }\r\n\r\n    init_style(){\r\n        this.element.classList.add(\"dark-editable-element\");\r\n    }\r\n\r\n    /* INIT METHODS END */\r\n    route_mode(){\r\n        switch (this.mode){\r\n            default:\r\n                throw new Error(`Mode ${this.mode} not found!`)\r\n            case 'popup':\r\n                return new PopupMode(this);\r\n            case 'inline':\r\n                return new InlineMode(this);\r\n        }\r\n    }\r\n\r\n    route_type(){\r\n        if(this.type.prototype instanceof BaseType){\r\n            return new this.type(this);\r\n        }\r\n        if(typeof this.type === 'string'){\r\n            switch(this.type){\r\n                case \"text\":\r\n                case \"password\":\r\n                case \"email\":\r\n                case \"url\":\r\n                case \"tel\":\r\n                case \"number\":\r\n                case \"range\":\r\n                case \"time\":\r\n                    return new InputType(this);\r\n                case \"textarea\":\r\n                    return new TextAreaType(this);\r\n                case \"select\":\r\n                    return new SelectType(this);\r\n                case \"date\":\r\n                    return new DateType(this);\r\n                case \"datetime\":\r\n                    return new DateTimeType(this);\r\n            }\r\n        }\r\n        throw new Error(`Undefined type`);\r\n    }\r\n\r\n    /* AJAX */\r\n\r\n    async success(response, newValue){\r\n        return await this.typeElement.successResponse(response, newValue);\r\n    }\r\n\r\n    async error(response, newValue){\r\n        return await this.typeElement.errorResponse(response, newValue);\r\n    }\r\n\r\n    /* AJAX END */\r\n\r\n    /* METHODS */\r\n\r\n    enable(){\r\n        this.disabled = false;\r\n        this.element.classList.remove(\"dark-editable-element-disabled\");\r\n        this.modeElement.enable();\r\n\r\n    }\r\n\r\n    disable(){\r\n        this.disabled = true;\r\n        this.element.classList.add(\"dark-editable-element-disabled\");\r\n        this.modeElement.enable();\r\n    }\r\n\r\n    setValue(value){\r\n        this.value = value;\r\n        this.init_text();\r\n    }\r\n\r\n    getValue(){\r\n        return this.value;\r\n    }\r\n\r\n    /* METHODS END */\r\n}"],"names":["Popover","moment"],"mappings":"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"}